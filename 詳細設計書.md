# FINOS CDM Viewer è©³ç´°è¨­è¨ˆæ›¸

## ç›®æ¬¡

1. [ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦](#1-ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦)
2. [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ](#2-ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ)
3. [ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ](#3-ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ)
4. [ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ](#4-ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ)
5. [å‡¦ç†ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ](#5-å‡¦ç†ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ)
6. [UI/UXè¨­è¨ˆ](#6-uiuxè¨­è¨ˆ)
7. [ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­è¨ˆ](#7-ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­è¨ˆ)
8. [ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­è¨ˆ](#8-ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­è¨ˆ)
9. [æ‹¡å¼µæ€§è¨­è¨ˆ](#9-æ‹¡å¼µæ€§è¨­è¨ˆ)

---

## 1. ã‚·ã‚¹ãƒ†ãƒ æ¦‚è¦

### 1.1 ç›®çš„

FINOS CDM Viewer ã¯ã€FINOS Common Domain Modelï¼ˆCDMï¼‰ã®Rosetta DSL ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¦–è¦šçš„ã«è¡¨ç¤ºãƒ»ãƒŠãƒ“ã‚²ãƒ¼ãƒˆã™ã‚‹ãŸã‚ã®VS Codeæ‹¡å¼µæ©Ÿèƒ½ã§ã™ã€‚

### 1.2 ä¸»è¦æ©Ÿèƒ½

- **CDM Explorer Tree View**: CDMã®å‹ã€åˆ—æŒ™å‹ã€ãŠã‚ˆã³ãã‚Œã‚‰ã®é–¢ä¿‚ã‚’éšå±¤çš„ã«è¡¨ç¤º
- **åå‰ç©ºé–“ã«ã‚ˆã‚‹æ•´ç†**: åå‰ç©ºé–“ã”ã¨ã«å®šç¾©ã‚’è‡ªå‹•æ•´ç†
- **å‹ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³**: å‹ã‚„åˆ—æŒ™å‹ã®å®šç¾©ã¸ã®ã‚¸ãƒ£ãƒ³ãƒ—æ©Ÿèƒ½
- **ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰è©³ç´°è¡¨ç¤º**: ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ã€å‹ã€èª¬æ˜ã®è¡¨ç¤º
- **è‡ªå‹•æ›´æ–°**: .rosettaãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚’ç›£è¦–ã—ã¦è‡ªå‹•æ›´æ–°

### 1.3 æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

| é …ç›® | æŠ€è¡“ |
|-----|------|
| è¨€èª | TypeScript 5.3.3 |
| ãƒ©ãƒ³ã‚¿ã‚¤ãƒ  | Node.js 18+ |
| ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ | VS Code Extension API 1.85.0 |
| ãƒ“ãƒ«ãƒ‰ãƒ„ãƒ¼ãƒ« | TypeScript Compiler (tsc) |
| ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒãƒãƒ¼ã‚¸ãƒ£ | npm |

---

## 2. ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ

### 2.1 å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   VS Code Extension Host                 â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              FINOS CDM Viewer Extension            â”‚ â”‚
â”‚  â”‚                                                     â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Extension   â”‚        â”‚  Command Handlers    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  Activation  â”‚â”€â”€â”€â”€â”€â”€â”€â–¶â”‚  - refreshExplorer   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  (main)      â”‚        â”‚  - openDefinition    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  - showTypeGraph     â”‚ â”‚ â”‚
â”‚  â”‚         â”‚                â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚         â”‚                                          â”‚ â”‚
â”‚  â”‚         â–¼                                          â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚       CdmTreeDataProvider                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - getChildren()                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - getTreeItem()                             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - refresh()                                 â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - indexWorkspace()                          â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚          â”‚                                         â”‚ â”‚
â”‚  â”‚          â–¼                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚         RosettaParser                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - parseFile()                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - extractNamespace()                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - extractTypes()                            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - extractEnums()                            â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚          â”‚                                         â”‚ â”‚
â”‚  â”‚          â–¼                                         â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚         RosettaAst Models                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - RosettaFile                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - RosettaType                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - RosettaEnum                               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - ParseResult                               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚              VS Code API Services                  â”‚ â”‚
â”‚  â”‚  - TreeView API                                    â”‚ â”‚
â”‚  â”‚  - FileSystemWatcher API                           â”‚ â”‚
â”‚  â”‚  - Workspace API                                   â”‚ â”‚
â”‚  â”‚  - Commands API                                    â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”‚  .rosetta Files       â”‚
              â”‚  (Workspace)          â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ãƒ¬ã‚¤ãƒ¤ãƒ¼æ§‹æˆ

| ãƒ¬ã‚¤ãƒ¤ãƒ¼ | å½¹å‰² | ä¸»è¦ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ |
|---------|------|------------------|
| **ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³å±¤** | UIè¡¨ç¤ºã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼æ“ä½œ | CdmTreeDataProvider, CdmTreeItem |
| **ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤** | ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã¨åˆ¶å¾¡ | Extension, Command Handlers |
| **ãƒ‰ãƒ¡ã‚¤ãƒ³å±¤** | ãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ«å®šç¾© | RosettaAst Models |
| **ã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£å±¤** | å¤–éƒ¨ãƒªã‚½ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ | RosettaParser, FileSystemWatcher |

### 2.3 ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼

```
1. æ‹¡å¼µæ©Ÿèƒ½ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³
   â†“
2. updateWorkspaceContext() - .rosettaãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢
   â†“
3. CdmTreeDataProvider.refresh()
   â†“
4. indexWorkspace() - ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹å†…ã®å…¨.rosettaãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¹ã‚­ãƒ£ãƒ³
   â†“
5. RosettaParser.parseFile() - å„ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‘ãƒ¼ã‚¹
   â†“
6. RosettaFile ASTç”Ÿæˆ
   â†“
7. åå‰ç©ºé–“ã§ã‚°ãƒ«ãƒ¼ãƒ—åŒ–
   â†“
8. TreeViewæ›´æ–°
```

---

## 3. ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«è¨­è¨ˆ

### 3.1 extension.tsï¼ˆã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆï¼‰

#### 3.1.1 è²¬å‹™

- æ‹¡å¼µæ©Ÿèƒ½ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³/ãƒ‡ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³
- ã‚³ãƒãƒ³ãƒ‰ã®ç™»éŒ²
- TreeViewã®ç™»éŒ²
- ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ã®è¨­å®š
- ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆå¤‰æ•°ã®ç®¡ç†

#### 3.1.2 ä¸»è¦é–¢æ•°

```typescript
// ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆæ›´æ–°
async function updateWorkspaceContext(): Promise<boolean>

// æ‹¡å¼µæ©Ÿèƒ½ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³
export function activate(context: vscode.ExtensionContext): void

// æ‹¡å¼µæ©Ÿèƒ½ãƒ‡ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³
export function deactivate(): void
```

#### 3.1.3 ç™»éŒ²ã‚³ãƒãƒ³ãƒ‰ä¸€è¦§

| ã‚³ãƒãƒ³ãƒ‰ID | æ©Ÿèƒ½ | å‡¦ç†å†…å®¹ |
|-----------|------|---------|
| `cdm.refreshExplorer` | ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼å†èª­ã¿è¾¼ã¿ | TreeDataProviderã®refresh()ã‚’å‘¼ã³å‡ºã— |
| `cdm.openDefinition` | å®šç¾©ã‚’é–‹ã | å‹/åˆ—æŒ™å‹ã®å®šç¾©å ´æ‰€ã¸ã‚¸ãƒ£ãƒ³ãƒ— |
| `cdm.showTypeGraph` | å‹ã‚°ãƒ©ãƒ•è¡¨ç¤ºï¼ˆå°†æ¥æ©Ÿèƒ½ï¼‰ | ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼å®Ÿè£… |

#### 3.1.4 ã‚¤ãƒ™ãƒ³ãƒˆãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
// ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆæ™‚
fileWatcher.onDidCreate(() => {
    updateWorkspaceContext();
    treeDataProvider.refresh();
});

// ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ™‚
fileWatcher.onDidChange(() => treeDataProvider.refresh());

// ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤æ™‚
fileWatcher.onDidDelete(() => {
    updateWorkspaceContext();
    treeDataProvider.refresh();
});
```

### 3.2 CdmTreeDataProvider.tsï¼ˆãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ï¼‰

#### 3.2.1 ã‚¯ãƒ©ã‚¹å›³

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          CdmTreeDataProvider                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ - parser: RosettaParser                             â”‚
â”‚ - rosettaFiles: Map<string, RosettaFile>            â”‚
â”‚ - namespaces: Map<string, RosettaFile[]>            â”‚
â”‚ - _onDidChangeTreeData: EventEmitter                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ + refresh(): void                                   â”‚
â”‚ + getTreeItem(element): TreeItem                    â”‚
â”‚ + getChildren(element?): Promise<CdmTreeItem[]>     â”‚
â”‚ - getRootNamespaces(): CdmTreeItem[]                â”‚
â”‚ - getNamespaceChildren(element): CdmTreeItem[]      â”‚
â”‚ - getTypeChildren(element): CdmTreeItem[]           â”‚
â”‚ - getEnumChildren(element): CdmTreeItem[]           â”‚
â”‚ - indexWorkspace(): void                            â”‚
â”‚ - indexFolder(folderPath): void                     â”‚
â”‚ - indexFile(filePath): void                         â”‚
â”‚ - formatCardinality(cardinality): string            â”‚
â”‚ + getFileForItem(item): RosettaFile | undefined     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                      â”‚ implements
                      â–¼
      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
      â”‚  vscode.TreeDataProvider<T>        â”‚
      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2.2 ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

```typescript
// ãƒ•ã‚¡ã‚¤ãƒ«ãƒãƒƒãƒ—
rosettaFiles: Map<string, RosettaFile>
// ã‚­ãƒ¼: ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ï¼ˆçµ¶å¯¾ãƒ‘ã‚¹ï¼‰
// å€¤: ãƒ‘ãƒ¼ã‚¹æ¸ˆã¿RosettaFileã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ

// åå‰ç©ºé–“ãƒãƒƒãƒ—
namespaces: Map<string, RosettaFile[]>
// ã‚­ãƒ¼: åå‰ç©ºé–“åï¼ˆä¾‹: "cdm.base"ï¼‰
// å€¤: ãã®åå‰ç©ºé–“ã«å±ã™ã‚‹RosettaFileã®é…åˆ—
```

#### 3.2.3 ãƒ„ãƒªãƒ¼éšå±¤æ§‹é€ 

```
Root
â”œâ”€ Namespace: cdm.base
â”‚  â”œâ”€ Type: Party
â”‚  â”‚  â”œâ”€ Field: partyId: string (1..1)
â”‚  â”‚  â””â”€ Field: name: string (0..1)
â”‚  â”œâ”€ Type: Account
â”‚  â””â”€ Enum: AccountTypeEnum
â”‚     â”œâ”€ EnumValue: CLIENT
â”‚     â””â”€ EnumValue: HOUSE
â”œâ”€ Namespace: cdm.event
â”‚  â””â”€ Type: TradeEvent
â””â”€ Namespace: cdm.product
```

#### 3.2.4 TreeItemTypeåˆ—æŒ™å‹

```typescript
export enum TreeItemType {
    Namespace = 'namespace',   // åå‰ç©ºé–“ãƒãƒ¼ãƒ‰
    Type = 'type',             // å‹å®šç¾©ãƒãƒ¼ãƒ‰
    Enum = 'enum',             // åˆ—æŒ™å‹ãƒãƒ¼ãƒ‰
    Field = 'field',           // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒãƒ¼ãƒ‰
    EnumValue = 'enumValue',   // åˆ—æŒ™å€¤ãƒãƒ¼ãƒ‰
    Folder = 'folder'          // ãƒ•ã‚©ãƒ«ãƒ€ãƒãƒ¼ãƒ‰ï¼ˆæœªä½¿ç”¨ï¼‰
}
```

#### 3.2.5 ã‚¢ã‚¤ã‚³ãƒ³ãƒãƒƒãƒ”ãƒ³ã‚°

| TreeItemType | VSCode ThemeIcon | èª¬æ˜ |
|-------------|------------------|------|
| Namespace | `package` | ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚¢ã‚¤ã‚³ãƒ³ |
| Type | `symbol-class` | ã‚¯ãƒ©ã‚¹ã‚·ãƒ³ãƒœãƒ« |
| Enum | `symbol-enum` | åˆ—æŒ™å‹ã‚·ãƒ³ãƒœãƒ« |
| Field | `symbol-field` | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚·ãƒ³ãƒœãƒ« |
| EnumValue | `symbol-enum-member` | åˆ—æŒ™å€¤ã‚·ãƒ³ãƒœãƒ« |

### 3.3 RosettaParser.tsï¼ˆãƒ‘ãƒ¼ã‚µãƒ¼ï¼‰

#### 3.3.1 ãƒ‘ãƒ¼ã‚¹æˆ¦ç•¥

æ­£è¦è¡¨ç¾ãƒ™ãƒ¼ã‚¹ã®è»½é‡ãƒ‘ãƒ¼ã‚µãƒ¼ã‚’æ¡ç”¨ã€‚å®Œå…¨ãªASTãƒ‘ãƒ¼ã‚µãƒ¼ã§ã¯ãªãã€æ§‹é€ çš„è¦ç´ ã®æŠ½å‡ºã«ç‰¹åŒ–ã€‚

#### 3.3.2 ãƒ‘ãƒ¼ã‚¹å¯¾è±¡è¦ç´ 

```typescript
// 1. åå‰ç©ºé–“å®£è¨€
namespace cdm.base : <"Base types for CDM">

// 2. ãƒãƒ¼ã‚¸ãƒ§ãƒ³å®£è¨€
version "5.0.0"

// 3. ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡
import cdm.base.*

// 4. å‹å®šç¾©
type Party : <"Party definition"> {
    partyId string (1..1) <"Party identifier">
    name string (0..1)
}

// 5. åˆ—æŒ™å‹å®šç¾©
enum AccountTypeEnum : <"Account type"> {
    CLIENT displayName "Client Account"
    HOUSE displayName "House Account"
}

// 6. ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£
(0..1)   // ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«å˜ä¸€
(1..1)   // å¿…é ˆå˜ä¸€
(0..*)   // ã‚ªãƒ—ã‚·ãƒ§ãƒŠãƒ«è¤‡æ•°
(1..*)   // å¿…é ˆè¤‡æ•°
```

#### 3.3.3 æ­£è¦è¡¨ç¾ãƒ‘ã‚¿ãƒ¼ãƒ³

```typescript
// åå‰ç©ºé–“
const namespaceRegex = /^namespace\s+([\w.]+)\s*:\s*<"([^"]*)">?/m;

// ãƒãƒ¼ã‚¸ãƒ§ãƒ³
const versionRegex = /^version\s+"([^"]+)"/m;

// ã‚¤ãƒ³ãƒãƒ¼ãƒˆ
const importRegex = /^import\s+([\w.*]+)/gm;

// å‹å®šç¾©
const typeRegex = /type\s+(\w+)(?:\s+extends\s+(\w+))?\s*:\s*<"([^"]*)">([\s\S]*?)(?=\ntype\s|\nenum\s|\nfunc\s|$)/g;

// ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å®šç¾©
const fieldRegex = /^\s*(\w+)\s+([\w<>]+)\s+\(([^)]+)\)(?:\s*<"([^"]*)")?/gm;

// åˆ—æŒ™å‹å®šç¾©
const enumRegex = /enum\s+(\w+)\s*:\s*<"([^"]*)">([\s\S]*?)(?=\ntype\s|\nenum\s|\nfunc\s|$)/g;

// åˆ—æŒ™å€¤
const valueRegex = /(\w+)(?:\s+displayName\s+"([^"]+)")?(?:\s*<"([^"]*)">)?/g;

// ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£
const cardinalityRegex = /(\d+)\.\.(\d+|\*)/;
```

#### 3.3.4 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
interface ParseError {
    message: string;      // ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    location: Location;   // ã‚¨ãƒ©ãƒ¼ä½ç½®
    severity: 'error' | 'warning';  // æ·±åˆ»åº¦
}
```

ãƒ‘ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼ã¯è‡´å‘½çš„ã‚¨ãƒ©ãƒ¼ã¨ã›ãšã€ParseResultå†…ã®errorsãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã«è“„ç©ã€‚

### 3.4 RosettaAst.tsï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ï¼‰

#### 3.4.1 ãƒ¢ãƒ‡ãƒ«é–¢é€£å›³

```
RosettaFile
â”œâ”€ namespace: RosettaNamespace?
â”œâ”€ imports: RosettaImport[]
â”œâ”€ types: RosettaType[]
â”‚  â”œâ”€ fields: RosettaField[]
â”‚  â”‚  â””â”€ cardinality: Cardinality
â”‚  â”œâ”€ metadata: RosettaMetadata[]
â”‚  â””â”€ conditions: RosettaCondition[]
â”œâ”€ enums: RosettaEnum[]
â”‚  â””â”€ values: RosettaEnumValue[]
â””â”€ functions: RosettaFunction[]
   â”œâ”€ inputs: RosettaField[]
   â””â”€ output: RosettaField?
```

#### 3.4.2 ä¸»è¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

##### RosettaFile

```typescript
interface RosettaFile {
    filePath: string;           // ãƒ•ã‚¡ã‚¤ãƒ«ã®çµ¶å¯¾ãƒ‘ã‚¹
    namespace?: RosettaNamespace;  // åå‰ç©ºé–“ï¼ˆçœç•¥å¯ï¼‰
    imports: RosettaImport[];   // ã‚¤ãƒ³ãƒãƒ¼ãƒˆæ–‡ã®ãƒªã‚¹ãƒˆ
    types: RosettaType[];       // å‹å®šç¾©ã®ãƒªã‚¹ãƒˆ
    enums: RosettaEnum[];       // åˆ—æŒ™å‹ã®ãƒªã‚¹ãƒˆ
    functions: RosettaFunction[]; // é–¢æ•°å®šç¾©ã®ãƒªã‚¹ãƒˆ
}
```

##### RosettaType

```typescript
interface RosettaType {
    name: string;               // å‹å
    description?: string;       // èª¬æ˜æ–‡
    extends?: string;           // ç¶™æ‰¿å…ƒå‹å
    metadata: RosettaMetadata[]; // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ³¨é‡ˆ
    fields: RosettaField[];     // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãƒªã‚¹ãƒˆ
    conditions: RosettaCondition[]; // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ¡ä»¶
    location: Location;         // ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä½ç½®
}
```

##### RosettaField

```typescript
interface RosettaField {
    name: string;               // ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰å
    type: string;               // å‹å
    cardinality: Cardinality;   // ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£
    description?: string;       // èª¬æ˜æ–‡
    metadata: RosettaMetadata[]; // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿æ³¨é‡ˆ
    location: Location;         // ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä½ç½®
}
```

##### Cardinality

```typescript
interface Cardinality {
    min: number;                // æœ€å°å‡ºç¾å›æ•°
    max: number | '*';          // æœ€å¤§å‡ºç¾å›æ•°ï¼ˆ'*'ã¯ç„¡åˆ¶é™ï¼‰
    isRequired: boolean;        // å¿…é ˆã‹ã©ã†ã‹ï¼ˆmin > 0ï¼‰
    isMultiple: boolean;        // è¤‡æ•°å¯ã‹ã©ã†ã‹ï¼ˆmax > 1 or '*'ï¼‰
}
```

##### RosettaEnum

```typescript
interface RosettaEnum {
    name: string;               // åˆ—æŒ™å‹å
    description?: string;       // èª¬æ˜æ–‡
    values: RosettaEnumValue[]; // åˆ—æŒ™å€¤ã®ãƒªã‚¹ãƒˆ
    location: Location;         // ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ä½ç½®
}
```

---

## 4. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«è¨­è¨ˆ

### 4.1 ãƒ‘ãƒ¼ã‚¹ãƒ‡ãƒ¼ã‚¿ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

```
.rosetta File (Disk)
      â”‚
      â–¼
File Content (string)
      â”‚
      â–¼ [RosettaParser.parse()]
ParseResult {
    file: RosettaFile,
    errors: ParseError[]
}
      â”‚
      â–¼ [CdmTreeDataProvider.indexFile()]
rosettaFiles: Map<string, RosettaFile>
      â”‚
      â–¼ [Grouping by namespace]
namespaces: Map<string, RosettaFile[]>
      â”‚
      â–¼ [CdmTreeDataProvider.getChildren()]
CdmTreeItem[]
      â”‚
      â–¼ [VS Code TreeView API]
UIè¡¨ç¤º
```

### 4.2 ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥

ç¾åœ¨ã®å®Ÿè£…ã§ã¯ã€`CdmTreeDataProvider`ãŒãƒ¡ãƒ¢ãƒªå†…ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä¿æŒï¼š

```typescript
private rosettaFiles: Map<string, RosettaFile> = new Map();
private namespaces: Map<string, RosettaFile[]> = new Map();
```

- **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ›´æ–°**: `refresh()`å‘¼ã³å‡ºã—æ™‚ã«å…¨ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ã—ã¦å†æ§‹ç¯‰
- **ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ¤œçŸ¥**: FileSystemWatcherã§.rosettaãƒ•ã‚¡ã‚¤ãƒ«ã®å¤‰æ›´ã‚’ç›£è¦–

### 4.3 ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®è¦‹ç©ã‚‚ã‚Š

| é …ç›® | æ¦‚ç®—ã‚µã‚¤ã‚º |
|-----|----------|
| RosettaFile 1å€‹ | ~5-10 KB |
| FINOS CDMå…¨ä½“ï¼ˆ~150ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ | ~1-2 MB |
| TreeItemç”Ÿæˆã‚³ã‚¹ãƒˆ | ~100-200 KB |
| åˆè¨ˆãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ | ~50-100 MB |

---

## 5. å‡¦ç†ãƒ•ãƒ­ãƒ¼è¨­è¨ˆ

### 5.1 æ‹¡å¼µæ©Ÿèƒ½ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant VSCode
    participant Extension
    participant Context
    participant TreeProvider
    participant Parser
    participant FileWatcher

    VSCode->>Extension: activate()
    Extension->>Extension: updateWorkspaceContext()
    Extension->>VSCode: workspace.findFiles('**/*.rosetta')
    VSCode-->>Extension: rosettaFiles
    Extension->>VSCode: setContext('workspaceHasRosettaFiles', true)

    Extension->>TreeProvider: new CdmTreeDataProvider()
    TreeProvider->>Parser: new RosettaParser()

    Extension->>VSCode: window.createTreeView('cdmExplorer', ...)

    Extension->>VSCode: commands.registerCommand('cdm.refreshExplorer', ...)
    Extension->>VSCode: commands.registerCommand('cdm.openDefinition', ...)
    Extension->>VSCode: commands.registerCommand('cdm.showTypeGraph', ...)

    Extension->>FileWatcher: workspace.createFileSystemWatcher('**/*.rosetta')
    FileWatcher->>Extension: onDidCreate/Change/Delete registered

    Extension->>TreeProvider: refresh()
    TreeProvider->>TreeProvider: indexWorkspace()
    TreeProvider->>VSCode: fire onDidChangeTreeData event
```

### 5.2 ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[indexWorkspace] --> B{workspaceFolders exists?}
    B -->|No| C[Return]
    B -->|Yes| D[Loop: each folder]
    D --> E[indexFolder]
    E --> F{Entry is directory?}
    F -->|Yes, not hidden/node_modules| E
    F -->|No| G{Entry is .rosetta file?}
    G -->|Yes| H[indexFile]
    G -->|No| D
    H --> I[RosettaParser.parseFile]
    I --> J{Parse successful?}
    J -->|Yes| K[Add to rosettaFiles Map]
    J -->|No| L[Log error]
    K --> M[Group by namespace]
    M --> N[Add to namespaces Map]
    N --> D
    L --> D
```

### 5.3 ãƒ„ãƒªãƒ¼è¡¨ç¤ºæ›´æ–°ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant User
    participant TreeView
    participant TreeProvider
    participant VSCode

    User->>TreeView: Expand node
    TreeView->>TreeProvider: getChildren(element?)

    alt element is undefined (root)
        TreeProvider->>TreeProvider: getRootNamespaces()
        TreeProvider-->>TreeView: CdmTreeItem[] (Namespaces)
    else element is Namespace
        TreeProvider->>TreeProvider: getNamespaceChildren(element)
        TreeProvider-->>TreeView: CdmTreeItem[] (Types & Enums)
    else element is Type
        TreeProvider->>TreeProvider: getTypeChildren(element)
        TreeProvider-->>TreeView: CdmTreeItem[] (Fields & Extends)
    else element is Enum
        TreeProvider->>TreeProvider: getEnumChildren(element)
        TreeProvider-->>TreeView: CdmTreeItem[] (EnumValues)
    end

    TreeView->>VSCode: Render tree items
    VSCode->>User: Display updated tree
```

### 5.4 å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—ãƒ•ãƒ­ãƒ¼

```mermaid
sequenceDiagram
    participant User
    participant TreeView
    participant Command
    participant VSCode

    User->>TreeView: Click on Type/Enum item
    TreeView->>Command: cdm.openDefinition(item)

    alt item has no filePath
        Command->>User: showWarningMessage
    else item has filePath
        Command->>VSCode: workspace.openTextDocument(filePath)
        VSCode-->>Command: document
        Command->>VSCode: window.showTextDocument(document)
        VSCode-->>Command: editor

        alt item is Type
            Command->>Command: Search for "type TypeName"
        else item is Enum
            Command->>Command: Search for "enum EnumName"
        end

        Command->>Command: Find position in document
        Command->>VSCode: editor.selection = new Selection(position)
        Command->>VSCode: editor.revealRange(range)
        VSCode->>User: Navigate to definition
    end
```

### 5.5 ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ç›£è¦–ãƒ•ãƒ­ãƒ¼

```mermaid
flowchart TD
    A[FileSystemWatcher] --> B{Event Type}
    B -->|onDidCreate| C[updateWorkspaceContext]
    B -->|onDidChange| D[treeDataProvider.refresh]
    B -->|onDidDelete| C
    C --> D
    D --> E[Clear rosettaFiles cache]
    E --> F[Clear namespaces cache]
    F --> G[indexWorkspace]
    G --> H[Fire onDidChangeTreeData]
    H --> I[TreeView updates UI]
```

---

## 6. UI/UXè¨­è¨ˆ

### 6.1 TreeViewéšå±¤è¨­è¨ˆ

#### 6.1.1 è¡¨ç¤ºå½¢å¼

```
ğŸ“¦ cdm.base
  â”œâ”€ ğŸ”· Party
  â”‚   â”œâ”€ ğŸ”¹ partyId: string (1..1)
  â”‚   â””â”€ ğŸ”¹ name: string (0..1)
  â”œâ”€ ğŸ”· Account
  â”‚   â”œâ”€ extends Party
  â”‚   â”œâ”€ ğŸ”¹ accountId: string (1..1)
  â”‚   â””â”€ ğŸ”¹ accountType: AccountTypeEnum (1..1)
  â””â”€ ğŸ”¶ AccountTypeEnum
      â”œâ”€ ğŸ”¸ CLIENT
      â””â”€ ğŸ”¸ HOUSE
```

#### 6.1.2 ã‚¢ã‚¤ã‚³ãƒ³å‡¡ä¾‹

| ã‚¢ã‚¤ã‚³ãƒ³ | æ„å‘³ | TreeItemType |
|---------|------|-------------|
| ğŸ“¦ | åå‰ç©ºé–“ | Namespace |
| ğŸ”· | å‹å®šç¾© | Type |
| ğŸ”¶ | åˆ—æŒ™å‹ | Enum |
| ğŸ”¹ | ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ | Field |
| ğŸ”¸ | åˆ—æŒ™å€¤ | EnumValue |

### 6.2 ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆ

| ã‚³ãƒãƒ³ãƒ‰ | ã‚·ãƒ§ãƒ¼ãƒˆã‚«ãƒƒãƒˆ | è¡¨ç¤ºå |
|---------|--------------|-------|
| `cdm.refreshExplorer` | - | CDM: Refresh Explorer |
| `cdm.showTypeGraph` | - | CDM: Show Type Graph |

### 6.3 ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆãƒ¡ãƒ‹ãƒ¥ãƒ¼

TreeView ã‚¿ã‚¤ãƒˆãƒ«ãƒãƒ¼ï¼š
- ğŸ”„ Refreshï¼ˆ`cdm.refreshExplorer`ï¼‰

### 6.4 Hoveræƒ…å ±

```typescript
// ç¾åœ¨ã®å®Ÿè£…
provideHover(document, position) {
    const word = document.getText(range);
    return new vscode.Hover(`**${word}**\n\n*Type information will be available in future versions*`);
}
```

å°†æ¥çš„ã«ã¯å‹æƒ…å ±ã‚’è¡¨ç¤ºäºˆå®šã€‚

### 6.5 ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—

| TreeItemType | ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—å†…å®¹ |
|-------------|----------------|
| Type | `Type: TypeName` ã¾ãŸã¯ description |
| Enum | `Enum: EnumName` ã¾ãŸã¯ description |
| Field | `Field: fieldName` ã¾ãŸã¯ description |
| EnumValue | ãƒ©ãƒ™ãƒ«ãƒ†ã‚­ã‚¹ãƒˆ |
| Namespace | åå‰ç©ºé–“å |

---

## 7. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°è¨­è¨ˆ

### 7.1 ã‚¨ãƒ©ãƒ¼åˆ†é¡

| ã‚¨ãƒ©ãƒ¼ãƒ¬ãƒ™ãƒ« | å¯¾å¿œæ–¹é‡ | é€šçŸ¥æ–¹æ³• |
|------------|---------|---------|
| **Critical** | æ‹¡å¼µæ©Ÿèƒ½åœæ­¢ | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãƒ€ã‚¤ã‚¢ãƒ­ã‚° |
| **Error** | æ©Ÿèƒ½åˆ¶é™ä»˜ãç¶™ç¶š | ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ + ãƒ­ã‚° |
| **Warning** | ç¶™ç¶šå‹•ä½œ | ãƒ­ã‚°ã®ã¿ |
| **Info** | æ­£å¸¸å‹•ä½œ | æƒ…å ±ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |

### 7.2 ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãƒã‚¤ãƒ³ãƒˆ

#### 7.2.1 ãƒ‘ãƒ¼ã‚¹ ã‚¨ãƒ©ãƒ¼

```typescript
// RosettaParser.parse()
try {
    const file: RosettaFile = { ... };
    return { file, errors };
} catch (error) {
    errors.push({
        message: `Failed to parse file: ${error}`,
        location: { line: 0, column: 0, length: 0 },
        severity: 'error'
    });
    // ç©ºã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è¿”ã—ã¦ç¶™ç¶š
    return { file: emptyFile, errors };
}
```

#### 7.2.2 ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã‚¨ãƒ©ãƒ¼

```typescript
// CdmTreeDataProvider.indexFolder()
try {
    const entries = fs.readdirSync(folderPath, { withFileTypes: true });
    // ...
} catch (error) {
    console.error(`Error indexing folder ${folderPath}:`, error);
    // ç¶™ç¶šï¼ˆä»–ã®ãƒ•ã‚©ãƒ«ãƒ€ã®å‡¦ç†ã¯ç¶šè¡Œï¼‰
}
```

#### 7.2.3 å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—ã‚¨ãƒ©ãƒ¼

```typescript
// extension.ts - cdm.openDefinition
try {
    const document = await vscode.workspace.openTextDocument(item.filePath);
    // ...
} catch (error) {
    vscode.window.showErrorMessage(`Failed to open file: ${error}`);
}
```

### 7.3 ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å‡ºåŠ›

```typescript
// ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°
console.log('FINOS CDM Viewer extension is now active');
console.error(`Error indexing folder ${folderPath}:`, error);
console.warn(`Errors parsing ${filePath}:`, result.errors);
```

### 7.4 ãƒ¦ãƒ¼ã‚¶ãƒ¼é€šçŸ¥

```typescript
// æƒ…å ±ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
vscode.window.showInformationMessage('CDM Explorer refreshed');
vscode.window.showInformationMessage('Type graph visualization coming soon!');

// è­¦å‘Šãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
vscode.window.showWarningMessage('No file path available for this item');

// ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
vscode.window.showErrorMessage(`Failed to open file: ${error}`);
```

---

## 8. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­è¨ˆ

### 8.1 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›®æ¨™

| æ“ä½œ | ç›®æ¨™æ™‚é–“ | å‚™è€ƒ |
|-----|---------|------|
| æ‹¡å¼µæ©Ÿèƒ½ã‚¢ã‚¯ãƒ†ã‚£ãƒ™ãƒ¼ã‚·ãƒ§ãƒ³ | < 1ç§’ | åˆå›ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã‚’é™¤ã |
| åˆå›ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ï¼ˆ150ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰ | 2-5ç§’ | FINOS CDMå…¨ä½“ |
| å˜ä¸€ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ãƒ¼ã‚¹ | 50-100ms | å¢—åˆ†æ›´æ–°æ™‚ |
| TreeView å±•é–‹ | < 100ms | ãƒãƒ¼ãƒ‰å±•é–‹æ™‚ |
| å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ— | < 200ms | ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ¼ãƒ—ãƒ³ + ãƒŠãƒ“ã‚²ãƒ¼ãƒˆ |

### 8.2 æœ€é©åŒ–æˆ¦ç•¥

#### 8.2.1 é…å»¶ãƒ­ãƒ¼ãƒ‰ï¼ˆLazy Loadingï¼‰

TreeViewã¯éšå±¤çš„ã«é…å»¶ãƒ­ãƒ¼ãƒ‰ï¼š
- ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«: åå‰ç©ºé–“ã®ã¿
- åå‰ç©ºé–“å±•é–‹æ™‚: ãã®åå‰ç©ºé–“ã®å‹/åˆ—æŒ™å‹ã®ã¿
- å‹å±•é–‹æ™‚: ãã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®ã¿

```typescript
async getChildren(element?: CdmTreeItem): Promise<CdmTreeItem[]> {
    if (!element) {
        // ãƒ«ãƒ¼ãƒˆãƒ¬ãƒ™ãƒ«: åå‰ç©ºé–“ã®ã¿
        return this.getRootNamespaces();
    }
    // ...ä»¥é™ã€å¿…è¦ãªãƒãƒ¼ãƒ‰ã®ã¿ç”Ÿæˆ
}
```

#### 8.2.2 ã‚¤ãƒ³ã‚¯ãƒªãƒ¡ãƒ³ã‚¿ãƒ«ãƒ‘ãƒ¼ã‚¹

ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ™‚ã¯å…¨ä½“ã‚’å†ãƒ‘ãƒ¼ã‚¹ã›ãšã€å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ãƒ‘ãƒ¼ã‚¹ï¼š

```typescript
fileWatcher.onDidChange(() => treeDataProvider.refresh());
// ç¾åœ¨ã¯refresh()ã§å…¨ä½“å†æ§‹ç¯‰ã ãŒã€å°†æ¥çš„ã«ã¯å¢—åˆ†æ›´æ–°å¯èƒ½
```

#### 8.2.3 ãƒ¡ãƒ¢ãƒªåŠ¹ç‡

- Mapãƒ‡ãƒ¼ã‚¿æ§‹é€ ä½¿ç”¨: O(1)ã‚¢ã‚¯ã‚»ã‚¹
- ä¸è¦ãªãƒ‡ãƒ¼ã‚¿ã®ä¿æŒã‚’é¿ã‘ã‚‹ï¼ˆä¾‹: ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã®æ–‡å­—åˆ—ã¯ä¿æŒã—ãªã„ï¼‰
- TreeItemç”Ÿæˆã¯å¿…è¦æœ€å°é™ï¼ˆå±•é–‹æ™‚ã®ã¿ï¼‰

#### 8.2.4 ä¸¦åˆ—å‡¦ç†

ç¾åœ¨ã¯åŒæœŸå‡¦ç†ã ãŒã€å°†æ¥çš„ã«ã¯ä»¥ä¸‹ã‚’æ¤œè¨ï¼š
- è¤‡æ•°ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸¦åˆ—ãƒ‘ãƒ¼ã‚¹ï¼ˆWorker Threadsï¼‰
- å¤§è¦æ¨¡ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã§ã®ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–

### 8.3 ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬

```typescript
// å°†æ¥çš„ãªå®Ÿè£…ä¾‹
const startTime = performance.now();
this.indexWorkspace();
const endTime = performance.now();
console.log(`Indexing took ${endTime - startTime}ms`);
```

### 8.4 ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£

| ãƒ•ã‚¡ã‚¤ãƒ«æ•° | äºˆæƒ³ãƒ‘ãƒ¼ã‚¹æ™‚é–“ | ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ |
|----------|--------------|------------|
| 10 | < 0.5ç§’ | ~10 MB |
| 50 | 1-2ç§’ | ~30 MB |
| 150ï¼ˆFINOS CDMï¼‰ | 2-5ç§’ | 50-100 MB |
| 500 | 10-15ç§’ | 150-300 MB |

---

## 9. æ‹¡å¼µæ€§è¨­è¨ˆ

### 9.1 ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

å°†æ¥çš„ãªãƒ—ãƒ©ã‚°ã‚¤ãƒ³æ©Ÿèƒ½ã®æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆï¼š

```typescript
// æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ1: ã‚«ã‚¹ã‚¿ãƒ ãƒ‘ãƒ¼ã‚µãƒ¼
interface IParser {
    parseFile(filePath: string): ParseResult;
    parse(content: string, filePath?: string): ParseResult;
}

// æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ2: ã‚«ã‚¹ã‚¿ãƒ TreeItemãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼
interface ITreeItemProvider {
    getChildren(element?: TreeItem): Promise<TreeItem[]>;
    getTreeItem(element: TreeItem): TreeItem;
}

// æ‹¡å¼µãƒã‚¤ãƒ³ãƒˆ3: ã‚«ã‚¹ã‚¿ãƒ ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¶ãƒ¼
interface IVisualizer {
    visualize(type: RosettaType): void;
}
```

### 9.2 è¨­å®šã«ã‚ˆã‚‹æ‹¡å¼µ

`package.json`ã®`contributes.configuration`ã§è¨­å®šå¯èƒ½ï¼š

```json
{
  "cdm.sourcePath": "",
  "cdm.enableCache": true,
  "cdm.maxCacheSize": 100
}
```

å°†æ¥è¿½åŠ äºˆå®šã®è¨­å®šï¼š
- `cdm.parserMode`: "strict" | "lenient"
- `cdm.indexingStrategy`: "eager" | "lazy"
- `cdm.visualizationEngine`: "mermaid" | "graphviz"

### 9.3 ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

ç¾åœ¨ã®ã‚¤ãƒ™ãƒ³ãƒˆï¼š
- `onDidChangeTreeData`: TreeViewæ›´æ–°æ™‚

å°†æ¥è¿½åŠ äºˆå®šã®ã‚¤ãƒ™ãƒ³ãƒˆï¼š
- `onTypeSelected`: å‹é¸æŠæ™‚
- `onParseCompleted`: ãƒ‘ãƒ¼ã‚¹å®Œäº†æ™‚
- `onIndexUpdated`: ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹æ›´æ–°æ™‚

### 9.4 API æ‹¡å¼µ

æ‹¡å¼µæ©Ÿèƒ½ãŒä»–ã®æ‹¡å¼µæ©Ÿèƒ½ã«å…¬é–‹ã§ãã‚‹APIï¼š

```typescript
export interface CdmViewerAPI {
    // å‹æƒ…å ±ã®å–å¾—
    getType(name: string): RosettaType | undefined;

    // åå‰ç©ºé–“å†…ã®ã™ã¹ã¦ã®å‹ã‚’å–å¾—
    getTypesInNamespace(namespace: string): RosettaType[];

    // ãƒ‘ãƒ¼ã‚¹æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§
    getAllFiles(): RosettaFile[];

    // å†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã®ãƒˆãƒªã‚¬ãƒ¼
    reindex(): Promise<void>;
}

// ä»–ã®æ‹¡å¼µæ©Ÿèƒ½ã‹ã‚‰åˆ©ç”¨
const cdmViewer = vscode.extensions.getExtension<CdmViewerAPI>('finos-community.finos-cdm-viewer');
const api = cdmViewer?.exports;
const party = api?.getType('Party');
```

### 9.5 å°†æ¥æ©Ÿèƒ½ã®å®Ÿè£…ãƒ­ãƒ¼ãƒ‰ãƒãƒƒãƒ—

#### Phase 2ï¼ˆæ¬¡æœŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰

- [ ] å¼·åŒ–ã•ã‚ŒãŸHoveræƒ…å ±ï¼ˆå‹è©³ç´°è¡¨ç¤ºï¼‰
- [ ] Go to Definitionï¼ˆå‹å‚ç…§ã‹ã‚‰ã®å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—ï¼‰
- [ ] Find All Referencesï¼ˆå‹ã®å‚ç…§ç®‡æ‰€æ¤œç´¢ï¼‰
- [ ] Rosetta DSLã®ã‚·ãƒ³ã‚¿ãƒƒã‚¯ã‚¹ãƒã‚¤ãƒ©ã‚¤ãƒˆ

#### Phase 3ï¼ˆå°†æ¥ãƒãƒ¼ã‚¸ãƒ§ãƒ³ï¼‰

- [ ] å‹ã‚°ãƒ©ãƒ•ã®è¦–è¦šåŒ–ï¼ˆMermaid/GraphVizï¼‰
- [ ] æ¤œç´¢ãƒ»ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½
- [ ] ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆæ©Ÿèƒ½ï¼ˆJSON, GraphViz, PlantUMLï¼‰
- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ã¨ã‚¨ãƒ©ãƒ¼ãƒã‚¤ãƒ©ã‚¤ãƒˆ
- [ ] ã‚¤ãƒ³ãƒ†ãƒªã‚»ãƒ³ã‚¹ï¼ˆã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆï¼‰
- [ ] ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°æ©Ÿèƒ½ï¼ˆãƒªãƒãƒ¼ãƒ ç­‰ï¼‰

---

## 10. ãƒ†ã‚¹ãƒˆè¨­è¨ˆ

### 10.1 ãƒ†ã‚¹ãƒˆæˆ¦ç•¥

| ãƒ†ã‚¹ãƒˆãƒ¬ãƒ™ãƒ« | å¯¾è±¡ | ãƒ„ãƒ¼ãƒ« |
|------------|------|-------|
| å˜ä½“ãƒ†ã‚¹ãƒˆ | å„ã‚¯ãƒ©ã‚¹/é–¢æ•° | Mocha + Chai |
| çµ±åˆãƒ†ã‚¹ãƒˆ | ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«é–“é€£æº | VS Code Test API |
| E2Eãƒ†ã‚¹ãƒˆ | UIæ“ä½œ | VS Code Extension Tester |

### 10.2 ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ä¾‹

#### 10.2.1 RosettaParser

```typescript
describe('RosettaParser', () => {
    it('should parse namespace declaration', () => {
        const content = 'namespace cdm.base : <"Base types">';
        const result = parser.parse(content);
        expect(result.file.namespace?.name).to.equal('cdm.base');
    });

    it('should parse type with fields', () => {
        const content = `
            type Party : <"Party definition"> {
                partyId string (1..1)
            }
        `;
        const result = parser.parse(content);
        expect(result.file.types).to.have.lengthOf(1);
        expect(result.file.types[0].fields).to.have.lengthOf(1);
    });
});
```

#### 10.2.2 CdmTreeDataProvider

```typescript
describe('CdmTreeDataProvider', () => {
    it('should return namespaces at root level', async () => {
        const children = await provider.getChildren();
        expect(children.every(c => c.type === TreeItemType.Namespace)).to.be.true;
    });

    it('should return types and enums for namespace', async () => {
        const namespaceItem = new CdmTreeItem('cdm.base', ...);
        const children = await provider.getChildren(namespaceItem);
        expect(children.length).to.be.greaterThan(0);
    });
});
```

### 10.3 ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿

`test/fixtures/`ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ã‚µãƒ³ãƒ—ãƒ«.rosettaãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ï¼š

```
test/
â””â”€â”€ fixtures/
    â”œâ”€â”€ simple-type.rosetta
    â”œâ”€â”€ enum-definition.rosetta
    â”œâ”€â”€ inheritance.rosetta
    â””â”€â”€ complex-model.rosetta
```

---

## 11. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆè¨­è¨ˆ

### 11.1 ãƒ“ãƒ«ãƒ‰ãƒ—ãƒ­ã‚»ã‚¹

```bash
# é–‹ç™ºãƒ“ãƒ«ãƒ‰
npm run compile

# Watch ãƒ¢ãƒ¼ãƒ‰
npm run watch

# ãƒ—ãƒ­ãƒ€ã‚¯ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰ï¼ˆå…¬é–‹å‰ï¼‰
npm run vscode:prepublish
```

### 11.2 ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãƒ³ã‚°

```bash
# .vsix ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä½œæˆ
vsce package

# å‡ºåŠ›
# finos-cdm-viewer-0.1.0.vsix
```

### 11.3 å…¬é–‹

```bash
# VS Code Marketplace ã«å…¬é–‹
vsce publish

# ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§å…¬é–‹
vsce publish 0.2.0
```

### 11.4 ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°

ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒãƒ¼ã‚¸ãƒ§ãƒ‹ãƒ³ã‚°ï¼ˆSemVerï¼‰ã«å¾“ã†ï¼š

- **MAJOR**: äº’æ›æ€§ã®ãªã„å¤‰æ›´
- **MINOR**: å¾Œæ–¹äº’æ›æ€§ã®ã‚ã‚‹æ©Ÿèƒ½è¿½åŠ 
- **PATCH**: å¾Œæ–¹äº’æ›æ€§ã®ã‚ã‚‹ãƒã‚°ä¿®æ­£

ä¾‹: `0.1.0` â†’ `0.2.0` (æ–°æ©Ÿèƒ½) â†’ `0.2.1` (ãƒã‚°ä¿®æ­£) â†’ `1.0.0` (å®‰å®šç‰ˆ)

---

## 12. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­è¨ˆ

### 12.1 å…¥åŠ›æ¤œè¨¼

- ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã®æ¤œè¨¼ï¼ˆãƒ‘ã‚¹ãƒˆãƒ©ãƒãƒ¼ã‚µãƒ«å¯¾ç­–ï¼‰
- æ­£è¦è¡¨ç¾ã®DoSæ”»æ’ƒå¯¾ç­–ï¼ˆReDoSï¼‰
- ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºåˆ¶é™ï¼ˆå·¨å¤§ãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚ˆã‚‹ãƒ¡ãƒ¢ãƒªæ¯æ¸‡å¯¾ç­–ï¼‰

### 12.2 æ¨©é™ç®¡ç†

- ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ•ã‚©ãƒ«ãƒ€å†…ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹
- ã‚·ã‚¹ãƒ†ãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹åˆ¶é™

### 12.3 ä¾å­˜é–¢ä¿‚ç®¡ç†

```bash
# è„†å¼±æ€§ãƒã‚§ãƒƒã‚¯
npm audit

# è‡ªå‹•ä¿®æ­£
npm audit fix
```

---

## 13. ä»˜éŒ²

### 13.1 Rosetta DSL æ–‡æ³•ä»•æ§˜ï¼ˆç°¡æ˜“ç‰ˆï¼‰

```ebnf
file ::= namespace? version? import* definition*
namespace ::= "namespace" IDENTIFIER ":" "<" STRING ">"
version ::= "version" STRING
import ::= "import" IDENTIFIER (".*")?
definition ::= typeDefinition | enumDefinition | functionDefinition

typeDefinition ::= "type" IDENTIFIER ("extends" IDENTIFIER)? ":" "<" STRING ">" "{" field* condition* "}"
field ::= IDENTIFIER IDENTIFIER "(" cardinality ")" ("<" STRING ">")?
cardinality ::= NUMBER ".." (NUMBER | "*")

enumDefinition ::= "enum" IDENTIFIER ":" "<" STRING ">" "{" enumValue* "}"
enumValue ::= IDENTIFIER ("displayName" STRING)? ("<" STRING ">")?
```

### 13.2 ç”¨èªé›†

| ç”¨èª | èª¬æ˜ |
|-----|------|
| CDM | Common Domain Model - FINOS ãŒç­–å®šã™ã‚‹é‡‘èæ¥­ç•Œã®å…±é€šãƒ‰ãƒ¡ã‚¤ãƒ³ãƒ¢ãƒ‡ãƒ« |
| Rosetta | CDM ã‚’è¨˜è¿°ã™ã‚‹ãŸã‚ã® DSLï¼ˆDomain Specific Languageï¼‰ |
| AST | Abstract Syntax Tree - æŠ½è±¡æ§‹æ–‡æœ¨ |
| Cardinality | ã‚«ãƒ¼ãƒ‡ã‚£ãƒŠãƒªãƒ†ã‚£ - ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã®å‡ºç¾å›æ•°ï¼ˆ0..1, 1..*, ãªã©ï¼‰ |
| TreeDataProvider | VS Code ãŒæä¾›ã™ã‚‹ãƒ„ãƒªãƒ¼ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºç”¨ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ |

### 13.3 å‚è€ƒè³‡æ–™

- [FINOS Common Domain Model](https://github.com/finos/common-domain-model)
- [Rosetta DSL Documentation](https://docs.rosetta-technology.io/)
- [VS Code Extension API](https://code.visualstudio.com/api)
- [VS Code TreeView API](https://code.visualstudio.com/api/extension-guides/tree-view)

---

## æ”¹è¨‚å±¥æ­´

| ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ—¥ä»˜ | å¤‰æ›´å†…å®¹ | ä½œæˆè€… |
|----------|------|---------|-------|
| 1.0 | 2026-01-15 | åˆç‰ˆä½œæˆ | Claude |

