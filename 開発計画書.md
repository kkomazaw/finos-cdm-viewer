# FINOS CDM Viewer 開発計画書

## 目次

1. [プロジェクト概要](#1-プロジェクト概要)
2. [開発体制](#2-開発体制)
3. [開発フェーズとマイルストーン](#3-開発フェーズとマイルストーン)
4. [詳細タスク分解](#4-詳細タスク分解)
5. [工数見積もり](#5-工数見積もり)
6. [スケジュール](#6-スケジュール)
7. [リスク管理](#7-リスク管理)
8. [品質管理計画](#8-品質管理計画)
9. [テスト計画](#9-テスト計画)
10. [デプロイメント・リリース計画](#10-デプロイメントリリース計画)
11. [コミュニケーション計画](#11-コミュニケーション計画)
12. [成功基準とKPI](#12-成功基準とkpi)

---

## 1. プロジェクト概要

### 1.1 プロジェクト名

FINOS CDM Viewer - VS Code Extension

### 1.2 目的

FINOS Common Domain Model（CDM）のRosetta DSLファイルを視覚的に表示・ナビゲートするVS Code拡張機能を開発し、CDM開発者の生産性を向上させる。

### 1.3 プロジェクト期間

- **開始日**: 2026年1月15日
- **MVP完了**: 2026年1月15日（完了済み）
- **Phase 1終了予定**: 2026年2月28日
- **Phase 2終了予定**: 2026年4月30日
- **Phase 3終了予定**: 2026年7月31日

### 1.4 予算

- 開発工数: 約80人日（Phase 1-3合計）
- インフラコスト: 最小限（VS Code Marketplace公開費用のみ）

### 1.5 ステークホルダー

| 役割 | 責任範囲 |
|-----|---------|
| **プロダクトオーナー** | 要件定義、優先順位決定、受け入れテスト |
| **テックリード** | アーキテクチャ設計、コードレビュー、技術的意思決定 |
| **開発者** | 実装、単体テスト、ドキュメント作成 |
| **QAエンジニア** | テスト計画、テスト実施、品質保証 |
| **コミュニティ** | フィードバック、バグレポート、機能要望 |

---

## 2. 開発体制

### 2.1 チーム構成

```
プロダクトオーナー (1名)
        │
        ├─ テックリード (1名)
        │       │
        │       ├─ フロントエンド開発者 (1-2名)
        │       │   - UI/UX実装
        │       │   - TreeView プロバイダー実装
        │       │
        │       └─ バックエンド開発者 (1名)
        │           - パーサー実装
        │           - データモデル設計
        │
        └─ QAエンジニア (1名)
            - テスト計画・実施
            - 品質保証
```

### 2.2 役割と責任

| 役割 | 担当者 | 主な責任 |
|-----|-------|---------|
| プロダクトオーナー | TBD | ビジョン策定、優先順位決定、ステークホルダー管理 |
| テックリード | TBD | 技術アーキテクチャ、コードレビュー、技術的リスク管理 |
| フロントエンド開発者 | TBD | UI実装、TreeView、コマンドハンドラ |
| バックエンド開発者 | TBD | パーサー、データモデル、パフォーマンス最適化 |
| QAエンジニア | TBD | テスト設計、自動テスト、品質メトリクス |

### 2.3 協力体制

- **デイリースタンドアップ**: 毎日15分（進捗共有、ブロッカー確認）
- **スプリント計画**: 2週間スプリント、月曜開始
- **スプリントレビュー**: スプリント最終日
- **レトロスペクティブ**: スプリント最終日
- **コードレビュー**: 全PRに対して実施（承認者: テックリード）

---

## 3. 開発フェーズとマイルストーン

### 3.1 フェーズ概要

```
Timeline:
├─ MVP (Phase 0) ────────────────────────── ✅ 完了 (2026/1/15)
├─ Phase 1: 安定化・改善 ────────────────── 🔄 進行中 (2026/1/16 - 2/28)
├─ Phase 2: 高度なナビゲーション ─────────── 📅 予定 (2026/3/1 - 4/30)
└─ Phase 3: 視覚化・エクスポート ─────────── 📅 予定 (2026/5/1 - 7/31)
```

### 3.2 MVP (Phase 0) - 完了済み

**期間**: 2026年1月1日 - 1月15日
**ステータス**: ✅ 完了

#### 達成済み機能
- [x] TreeView with namespace/type/enum hierarchy
- [x] 基本的なナビゲーション（定義へのジャンプ）
- [x] .rosettaファイルの自動監視・更新
- [x] 正規表現ベースのパーサー実装
- [x] workspaceHasRosettaFilesコンテキスト設定

#### 成果物
- ✅ 動作するVS Code拡張機能
- ✅ 基本的なドキュメント（README.md）
- ✅ 技術検証レポート
- ✅ 要件定義書
- ✅ 詳細設計書

---

### 3.3 Phase 1: 安定化・改善

**期間**: 2026年1月16日 - 2月28日（6週間）
**目的**: MVPの品質向上、バグ修正、ユーザビリティ改善

#### マイルストーン

| マイルストーン | 期限 | 主要成果物 |
|-------------|------|-----------|
| M1.1: テスト基盤整備 | 1/31 | テストフレームワーク、単体テスト |
| M1.2: バグ修正・パフォーマンス改善 | 2/14 | 安定版リリース v0.2.0 |
| M1.3: ドキュメント整備 | 2/21 | ユーザーガイド、開発者ガイド |
| M1.4: 初回公開準備 | 2/28 | Marketplace公開 v0.3.0 |

#### 主要タスク

1. **テスト実装**
   - [ ] 単体テストフレームワーク設定（Mocha + Chai）
   - [ ] RosettaParserの単体テスト
   - [ ] CdmTreeDataProviderの単体テスト
   - [ ] 統合テスト
   - [ ] E2Eテスト（基本シナリオ）

2. **バグ修正**
   - [ ] パーサーの正規表現改善（エッジケース対応）
   - [ ] メモリリーク検証・修正
   - [ ] エラーハンドリングの強化

3. **パフォーマンス改善**
   - [ ] 大規模ファイル（500+ファイル）でのパフォーマンス測定
   - [ ] インデックス化の最適化
   - [ ] TreeView更新の最適化（差分更新）

4. **ユーザビリティ改善**
   - [ ] より詳細なツールチップ
   - [ ] プログレスインジケーター追加
   - [ ] 設定項目の追加（cdm.autoRefresh等）

5. **ドキュメント**
   - [ ] ユーザーガイド作成
   - [ ] トラブルシューティングガイド
   - [ ] 開発者向けコントリビューションガイド
   - [ ] CHANGELOGの作成

6. **CI/CD構築**
   - [ ] GitHub Actions設定
   - [ ] 自動ビルド・テスト
   - [ ] 自動リリース

---

### 3.4 Phase 2: 高度なナビゲーション機能

**期間**: 2026年3月1日 - 4月30日（8週間）
**目的**: 開発者体験の大幅向上、IDE機能の充実

#### マイルストーン

| マイルストーン | 期限 | 主要成果物 |
|-------------|------|-----------|
| M2.1: Hover情報強化 | 3/15 | 型情報表示機能 |
| M2.2: Go to Definition実装 | 3/31 | 型参照からの定義ジャンプ |
| M2.3: Find All References実装 | 4/15 | 参照検索機能 |
| M2.4: シンタックスハイライト | 4/30 | Rosetta DSL文法ハイライト |

#### 主要機能

1. **強化されたHover情報**
   - [ ] 型の詳細情報表示
   - [ ] フィールド一覧表示
   - [ ] 継承関係の表示
   - [ ] ドキュメント文字列の表示

2. **Go to Definition**
   - [ ] 型参照からの定義ジャンプ
   - [ ] フィールド型参照からのジャンプ
   - [ ] インポート文からのジャンプ

3. **Find All References**
   - [ ] 型の参照箇所検索
   - [ ] 列挙型の参照箇所検索
   - [ ] Quick Pickによる結果表示

4. **Rosetta DSL シンタックスハイライト**
   - [ ] TextMate文法ファイル作成
   - [ ] キーワード、型、コメントのハイライト
   - [ ] セマンティックハイライト（型解決ベース）

5. **インテリセンス（基礎）**
   - [ ] 型名のオートコンプリート
   - [ ] フィールド名のオートコンプリート

---

### 3.5 Phase 3: 視覚化・エクスポート機能

**期間**: 2026年5月1日 - 7月31日（12週間）
**目的**: 視覚化機能でCDMの理解を深める、相互運用性の向上

#### マイルストーン

| マイルストーン | 期限 | 主要成果物 |
|-------------|------|-----------|
| M3.1: 型グラフ視覚化（基礎） | 5/31 | Mermaid形式での型グラフ表示 |
| M3.2: 検索・フィルタ機能 | 6/15 | 高度な検索UI |
| M3.3: エクスポート機能 | 6/30 | JSON/GraphViz/PlantUML出力 |
| M3.4: バリデーション機能 | 7/31 | リアルタイムエラー検出 |

#### 主要機能

1. **型グラフの視覚化**
   - [ ] Mermaidダイアグラム生成
   - [ ] 継承関係の視覚化
   - [ ] フィールド関連の視覚化
   - [ ] インタラクティブなグラフ表示（Webview）

2. **検索・フィルタ機能**
   - [ ] 型名での検索
   - [ ] フィールド名での検索
   - [ ] 名前空間でのフィルタ
   - [ ] 正規表現検索

3. **エクスポート機能**
   - [ ] JSON形式エクスポート
   - [ ] GraphViz (DOT)形式エクスポート
   - [ ] PlantUML形式エクスポート
   - [ ] Markdown形式エクスポート

4. **バリデーション機能**
   - [ ] 型参照の検証
   - [ ] カーディナリティの検証
   - [ ] 構文エラーの検出
   - [ ] Problems Panelへの統合

5. **高度なインテリセンス**
   - [ ] 型チェック
   - [ ] スニペット機能
   - [ ] リファクタリング（リネーム）

---

## 4. 詳細タスク分解

### 4.1 Phase 1 タスク分解（WBS）

```
Phase 1: 安定化・改善
├─ 1.1 テスト実装 (15人日)
│  ├─ 1.1.1 テストフレームワーク設定 (2人日)
│  ├─ 1.1.2 RosettaParser単体テスト (4人日)
│  ├─ 1.1.3 CdmTreeDataProvider単体テスト (4人日)
│  ├─ 1.1.4 統合テスト (3人日)
│  └─ 1.1.5 E2Eテスト (2人日)
│
├─ 1.2 バグ修正 (8人日)
│  ├─ 1.2.1 パーサー改善 (4人日)
│  ├─ 1.2.2 メモリリーク対策 (2人日)
│  └─ 1.2.3 エラーハンドリング強化 (2人日)
│
├─ 1.3 パフォーマンス改善 (6人日)
│  ├─ 1.3.1 パフォーマンス測定 (2人日)
│  ├─ 1.3.2 インデックス化最適化 (2人日)
│  └─ 1.3.3 TreeView最適化 (2人日)
│
├─ 1.4 ユーザビリティ改善 (5人日)
│  ├─ 1.4.1 詳細ツールチップ (2人日)
│  ├─ 1.4.2 プログレス表示 (2人日)
│  └─ 1.4.3 設定項目追加 (1人日)
│
├─ 1.5 ドキュメント (4人日)
│  ├─ 1.5.1 ユーザーガイド (2人日)
│  └─ 1.5.2 コントリビューションガイド (2人日)
│
└─ 1.6 CI/CD構築 (3人日)
   ├─ 1.6.1 GitHub Actions設定 (2人日)
   └─ 1.6.2 リリースプロセス自動化 (1人日)
```

**Phase 1 合計**: 41人日

### 4.2 Phase 2 タスク分解（WBS）

```
Phase 2: 高度なナビゲーション
├─ 2.1 Hover情報強化 (6人日)
│  ├─ 2.1.1 HoverProvider実装 (3人日)
│  ├─ 2.1.2 型情報取得ロジック (2人日)
│  └─ 2.1.3 UI実装 (1人日)
│
├─ 2.2 Go to Definition (5人日)
│  ├─ 2.2.1 DefinitionProvider実装 (3人日)
│  └─ 2.2.2 型解決ロジック (2人日)
│
├─ 2.3 Find All References (6人日)
│  ├─ 2.3.1 ReferenceProvider実装 (3人日)
│  ├─ 2.3.2 インデックス拡張 (2人日)
│  └─ 2.3.3 UI実装 (1人日)
│
├─ 2.4 シンタックスハイライト (8人日)
│  ├─ 2.4.1 TextMate文法作成 (4人日)
│  ├─ 2.4.2 セマンティックトークン実装 (3人日)
│  └─ 2.4.3 テーマ対応 (1人日)
│
└─ 2.5 インテリセンス基礎 (7人日)
   ├─ 2.5.1 CompletionProvider実装 (4人日)
   └─ 2.5.2 シグネチャヘルプ (3人日)
```

**Phase 2 合計**: 32人日

### 4.3 Phase 3 タスク分解（WBS）

```
Phase 3: 視覚化・エクスポート
├─ 3.1 型グラフ視覚化 (12人日)
│  ├─ 3.1.1 Mermaid生成ロジック (4人日)
│  ├─ 3.1.2 Webview実装 (5人日)
│  └─ 3.1.3 インタラクティブ機能 (3人日)
│
├─ 3.2 検索・フィルタ (6人日)
│  ├─ 3.2.1 検索UI実装 (3人日)
│  └─ 3.2.2 検索ロジック (3人日)
│
├─ 3.3 エクスポート機能 (8人日)
│  ├─ 3.3.1 JSONエクスポート (2人日)
│  ├─ 3.3.2 GraphVizエクスポート (2人日)
│  ├─ 3.3.3 PlantUMLエクスポート (2人日)
│  └─ 3.3.4 Markdownエクスポート (2人日)
│
├─ 3.4 バリデーション (10人日)
│  ├─ 3.4.1 DiagnosticProvider実装 (4人日)
│  ├─ 3.4.2 バリデーションルール (4人日)
│  └─ 3.4.3 Quick Fix実装 (2人日)
│
└─ 3.5 高度なインテリセンス (6人日)
   ├─ 3.5.1 型チェック (3人日)
   └─ 3.5.2 リファクタリング (3人日)
```

**Phase 3 合計**: 42人日

---

## 5. 工数見積もり

### 5.1 フェーズ別工数

| フェーズ | 期間（週） | 工数（人日） | 想定人員 | 備考 |
|---------|----------|------------|---------|------|
| MVP (Phase 0) | 2週 | 20人日 | 2名 | 完了済み |
| Phase 1 | 6週 | 41人日 | 2名 | テスト・安定化 |
| Phase 2 | 8週 | 32人日 | 2名 | 高度な機能 |
| Phase 3 | 12週 | 42人日 | 2名 | 視覚化・拡張 |
| **合計** | **28週** | **135人日** | **2名** | |

### 5.2 役割別工数配分

| 役割 | Phase 1 | Phase 2 | Phase 3 | 合計 |
|-----|---------|---------|---------|------|
| フロントエンド開発 | 15人日 | 18人日 | 25人日 | 58人日 |
| バックエンド開発 | 18人日 | 10人日 | 12人日 | 40人日 |
| QAエンジニア | 8人日 | 4人日 | 5人日 | 17人日 |
| **合計** | **41人日** | **32人日** | **42人日** | **115人日** |

※テックリード、プロダクトオーナーの工数は含まれていません（レビュー・管理業務）

### 5.3 バッファ

- **技術的リスクバッファ**: 各フェーズ +20%
- **スケジュールバッファ**: 各フェーズ +1週間
- **合計見積もり（バッファ込み）**: 約140人日、32週間

---

## 6. スケジュール

### 6.1 ガントチャート

```
2026年
   Jan      Feb      Mar      Apr      May      Jun      Jul      Aug
    |--------|--------|--------|--------|--------|--------|--------|
MVP ██
P1  --██████████████
P2            --████████████████
P3                          --████████████████████████████
    |--------|--------|--------|--------|--------|--------|--------|
    W1  W4   W8  W12  W16  W20  W24  W28  W32
```

### 6.2 詳細スケジュール

#### Phase 1（1/16 - 2/28）

| 週 | 期間 | 主要タスク | 成果物 |
|----|------|-----------|-------|
| W1 | 1/16-1/22 | テストフレームワーク設定、単体テスト開始 | テスト環境構築 |
| W2 | 1/23-1/29 | 単体テスト実装、バグ修正開始 | 単体テストスイート |
| W3 | 1/30-2/5 | パーサー改善、統合テスト | M1.1達成 |
| W4 | 2/6-2/12 | パフォーマンス測定・改善 | パフォーマンスレポート |
| W5 | 2/13-2/19 | ドキュメント作成、E2Eテスト | M1.2達成（v0.2.0） |
| W6 | 2/20-2/28 | CI/CD構築、Marketplace準備 | M1.4達成（v0.3.0公開） |

#### Phase 2（3/1 - 4/30）

| 週 | 期間 | 主要タスク | 成果物 |
|----|------|-----------|-------|
| W7-8 | 3/1-3/14 | Hover情報強化 | M2.1達成 |
| W9-10 | 3/15-3/28 | Go to Definition実装 | - |
| W11 | 3/29-4/4 | Go to Definition完成 | M2.2達成 |
| W12-13 | 4/5-4/18 | Find All References実装 | M2.3達成 |
| W14-15 | 4/19-4/30 | シンタックスハイライト | M2.4達成（v0.5.0） |

#### Phase 3（5/1 - 7/31）

| 週 | 期間 | 主要タスク | 成果物 |
|----|------|-----------|-------|
| W16-19 | 5/1-5/30 | 型グラフ視覚化 | M3.1達成 |
| W20-21 | 5/31-6/13 | 検索・フィルタ | M3.2達成 |
| W22-23 | 6/14-6/27 | エクスポート機能 | M3.3達成 |
| W24-27 | 6/28-7/25 | バリデーション、高度なインテリセンス | - |
| W28 | 7/26-7/31 | 最終テスト、ドキュメント整備 | M3.4達成（v1.0.0） |

---

## 7. リスク管理

### 7.1 リスク識別と対策

| リスクID | リスク内容 | 影響度 | 発生確率 | 対策 |
|---------|----------|-------|---------|------|
| R1 | Rosetta DSL仕様の不完全な理解 | 高 | 中 | FINOS CDMコミュニティとの連携、パーサーの柔軟な設計 |
| R2 | パフォーマンス問題（大規模ファイル） | 中 | 高 | 早期パフォーマンステスト、段階的最適化 |
| R3 | VS Code API仕様変更 | 中 | 低 | API安定版使用、定期的なVS Codeアップデート確認 |
| R4 | リソース不足（開発者） | 高 | 中 | バッファ確保、優先順位明確化、スコープ調整 |
| R5 | セキュリティ脆弱性 | 中 | 低 | 定期的なnpm audit、依存関係の最小化 |
| R6 | ユーザー要件の変更 | 中 | 中 | 段階的リリース、早期フィードバック収集 |
| R7 | 競合拡張機能の出現 | 低 | 低 | 差別化機能の強化、コミュニティエンゲージメント |

### 7.2 リスク対応プラン

#### R1: Rosetta DSL仕様の不完全な理解

**緩和策**:
- FINOS CDMのGitHubリポジトリを継続的に監視
- Rosetta DSL公式ドキュメントの定期確認
- パーサーのエラートレラント設計（部分的パース失敗でも継続）

**コンティンジェンシープラン**:
- Phase 2で完全なASTパーサーへの移行を検討
- Rosetta公式パーサーのラッパー実装を検討

#### R2: パフォーマンス問題

**緩和策**:
- Phase 1でパフォーマンステスト実施
- 500+ファイルでのベンチマーク
- プロファイリングツール活用

**コンティンジェンシープラン**:
- Worker Threadsによる並列パース
- インデックスのディスクキャッシュ化
- 仮想スクロール実装

#### R4: リソース不足

**緩和策**:
- 20%のバッファ確保
- 優先順位の明確化（MoSCoW分析）
- オープンソース化によるコミュニティ貢献の促進

**コンティンジェンシープラン**:
- Phase 3の一部機能を Phase 4に延期
- 外部コントリビューターの受け入れ

---

## 8. 品質管理計画

### 8.1 品質目標

| 品質特性 | 目標値 | 測定方法 |
|---------|-------|---------|
| **機能性** | 要件カバレッジ 100% | 要件トレーサビリティマトリクス |
| **信頼性** | クラッシュ率 < 0.1% | テレメトリーデータ分析 |
| **パフォーマンス** | 起動時間 < 1秒 | 自動パフォーマンステスト |
| **保守性** | コードカバレッジ > 80% | Istanbul/nyc |
| **使いやすさ** | ユーザー満足度 > 4.0/5.0 | ユーザーアンケート |

### 8.2 コード品質基準

```typescript
// ESLint + Prettier設定
{
  "extends": [
    "eslint:recommended",
    "plugin:@typescript-eslint/recommended"
  ],
  "rules": {
    "max-lines": ["error", 500],
    "max-complexity": ["error", 10],
    "no-console": "warn"
  }
}
```

**メトリクス**:
- 循環的複雑度: < 10
- 関数の最大行数: < 50行
- ファイルの最大行数: < 500行
- コードカバレッジ: > 80%

### 8.3 コードレビュー基準

**必須チェック項目**:
- [ ] 要件を満たしているか
- [ ] テストが追加されているか
- [ ] ドキュメントが更新されているか
- [ ] パフォーマンスへの影響はないか
- [ ] セキュリティ上の問題はないか
- [ ] アクセシビリティは考慮されているか

**レビュープロセス**:
1. 開発者がPR作成
2. テックリードが24時間以内にレビュー
3. 修正対応
4. 承認後マージ（Squash Merge）

### 8.4 継続的インテグレーション

```yaml
# .github/workflows/ci.yml
name: CI
on: [push, pull_request]
jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v2
      - name: Install dependencies
        run: npm ci
      - name: Lint
        run: npm run lint
      - name: Test
        run: npm test
      - name: Build
        run: npm run compile
```

---

## 9. テスト計画

### 9.1 テスト戦略

```
テストピラミッド:
         ┌──────────┐
         │  E2E (5%) │
         ├──────────┤
         │ 統合 (15%) │
         ├──────────┤
         │ 単体 (80%) │
         └──────────┘
```

### 9.2 テストタイプ別計画

#### 9.2.1 単体テスト（Unit Tests）

**対象**: 個別の関数・クラス
**ツール**: Mocha + Chai
**カバレッジ目標**: > 80%

**テストケース例**:

```typescript
describe('RosettaParser', () => {
  describe('parseCardinality', () => {
    it('should parse "0..1" as optional single', () => {
      const result = parser.parseCardinality('0..1');
      expect(result.min).to.equal(0);
      expect(result.max).to.equal(1);
      expect(result.isRequired).to.be.false;
    });

    it('should parse "1..*" as required multiple', () => {
      const result = parser.parseCardinality('1..*');
      expect(result.min).to.equal(1);
      expect(result.max).to.equal('*');
      expect(result.isMultiple).to.be.true;
    });
  });
});
```

**テスト対象モジュール**:
- RosettaParser (25ケース)
- CdmTreeDataProvider (20ケース)
- RosettaAst models (10ケース)

#### 9.2.2 統合テスト（Integration Tests）

**対象**: モジュール間の連携
**ツール**: VS Code Test API

**テストシナリオ**:
1. ファイルパース → TreeView表示
2. ファイル変更 → 自動更新
3. TreeItemクリック → 定義ジャンプ
4. コマンド実行 → TreeView更新

#### 9.2.3 E2Eテスト（End-to-End Tests）

**対象**: ユーザーシナリオ全体
**ツール**: VS Code Extension Tester

**テストシナリオ**:
1. **基本フロー**: 拡張機能インストール → ワークスペースオープン → TreeView確認
2. **ナビゲーションフロー**: 型検索 → 定義ジャンプ → フィールド確認
3. **編集フロー**: .rosettaファイル編集 → 自動更新確認

### 9.3 テストデータ

```
test/fixtures/
├── simple/
│   ├── simple-type.rosetta
│   └── simple-enum.rosetta
├── complex/
│   ├── inheritance.rosetta
│   ├── multiple-namespaces.rosetta
│   └── large-model.rosetta
└── edge-cases/
    ├── malformed.rosetta
    ├── empty.rosetta
    └── special-characters.rosetta
```

### 9.4 パフォーマンステスト

**ベンチマーク**:

| テストケース | ファイル数 | 目標時間 |
|------------|----------|---------|
| 小規模 | 10 | < 0.5秒 |
| 中規模 | 50 | < 2秒 |
| 大規模（FINOS CDM） | 150 | < 5秒 |
| 超大規模 | 500 | < 15秒 |

**測定項目**:
- 初回インデックス化時間
- メモリ使用量
- TreeView展開時間
- 定義ジャンプ時間

### 9.5 ユーザー受け入れテスト（UAT）

**フェーズ**: Phase 1終了時、Phase 2終了時、Phase 3終了時

**テスト対象者**:
- 内部開発者（2-3名）
- FINOS CDMコミュニティメンバー（5-10名）

**評価項目**:
- 機能の完全性
- 使いやすさ
- パフォーマンス
- ドキュメントの充実度

---

## 10. デプロイメント・リリース計画

### 10.1 リリース戦略

**セマンティックバージョニング（SemVer）**:
- **MAJOR**: 破壊的変更（例: 1.0.0 → 2.0.0）
- **MINOR**: 後方互換性のある機能追加（例: 0.3.0 → 0.4.0）
- **PATCH**: バグ修正（例: 0.3.0 → 0.3.1）

### 10.2 リリーススケジュール

| バージョン | リリース日 | 内容 | フェーズ |
|-----------|----------|------|---------|
| v0.1.0 | 2026/1/15 | MVP - 初期リリース（内部） | MVP完了 |
| v0.2.0 | 2026/2/14 | バグ修正・安定化 | Phase 1 M1.2 |
| v0.3.0 | 2026/2/28 | Marketplace初回公開 | Phase 1完了 |
| v0.4.0 | 2026/3/31 | Hover + Go to Definition | Phase 2 M2.2 |
| v0.5.0 | 2026/4/30 | Find References + シンタックスハイライト | Phase 2完了 |
| v0.6.0 | 2026/5/31 | 型グラフ視覚化 | Phase 3 M3.1 |
| v0.7.0 | 2026/6/30 | エクスポート機能 | Phase 3 M3.3 |
| v1.0.0 | 2026/7/31 | 正式版リリース | Phase 3完了 |

### 10.3 リリースプロセス

```
1. Feature Branch開発
   ↓
2. Pull Request作成
   ↓
3. コードレビュー
   ↓
4. CI/CDパス確認
   ↓
5. main/developブランチへマージ
   ↓
6. リリースブランチ作成（release/v0.x.0）
   ↓
7. バージョン番号更新（package.json）
   ↓
8. CHANGELOG.md更新
   ↓
9. Git Tag作成（v0.x.0）
   ↓
10. GitHub Release作成
    ↓
11. vsce publish（VS Code Marketplace）
    ↓
12. リリースノート公開
```

### 10.4 ロールバック計画

**問題発生時の対応**:

1. **Critical Bug検出**: 24時間以内にホットフィックス
2. **Marketplace公開停止**: VS Code Marketplaceから一時的に非公開
3. **前バージョンへのロールバック**: GitHubで前バージョンを推奨
4. **修正版リリース**: パッチバージョンをインクリメント（例: v0.3.1）

### 10.5 継続的デリバリー

```yaml
# .github/workflows/release.yml
name: Release
on:
  push:
    tags:
      - 'v*'
jobs:
  release:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Install dependencies
        run: npm ci
      - name: Test
        run: npm test
      - name: Package
        run: npx vsce package
      - name: Publish to Marketplace
        run: npx vsce publish -p ${{ secrets.VSCE_TOKEN }}
      - name: Create GitHub Release
        uses: actions/create-release@v1
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
```

---

## 11. コミュニケーション計画

### 11.1 チーム内コミュニケーション

| 会議 | 頻度 | 参加者 | 目的 | 時間 |
|-----|------|-------|------|------|
| **デイリースタンドアップ** | 毎日 | 全員 | 進捗共有、ブロッカー確認 | 15分 |
| **スプリント計画** | 2週間毎 | 全員 | タスク優先順位決定 | 1時間 |
| **スプリントレビュー** | 2週間毎 | 全員 + ステークホルダー | デモ、フィードバック収集 | 1時間 |
| **レトロスペクティブ** | 2週間毎 | チームメンバー | プロセス改善 | 45分 |
| **技術レビュー** | 週1回 | テックリード + 開発者 | アーキテクチャ議論 | 30分 |

### 11.2 ステークホルダーコミュニケーション

| ステークホルダー | コミュニケーション方法 | 頻度 |
|---------------|-------------------|------|
| プロダクトオーナー | スプリントレビュー、Slack | 週次 |
| FINOS CDMコミュニティ | GitHub Issues, Discussions | 随時 |
| ユーザー | リリースノート、ドキュメント | リリース毎 |
| 経営層 | 月次レポート | 月次 |

### 11.3 ドキュメント管理

**ドキュメントリポジトリ**:
- **GitHub Wiki**: アーキテクチャ設計、開発ガイド
- **README.md**: ユーザー向け使用方法
- **CONTRIBUTING.md**: コントリビューターガイド
- **CHANGELOG.md**: バージョン履歴
- **docs/**: 詳細ドキュメント

**更新ポリシー**:
- コード変更時はドキュメントも同時更新
- ドキュメントレビューをPRに含める

### 11.4 イシュートラッキング

**GitHub Issues活用**:

**ラベル体系**:
- `bug`: バグレポート
- `enhancement`: 機能要望
- `documentation`: ドキュメント改善
- `good first issue`: 初心者向けタスク
- `priority:high/medium/low`: 優先度
- `phase1/phase2/phase3`: フェーズ分類

**テンプレート**:
- Bug Report Template
- Feature Request Template
- Question Template

---

## 12. 成功基準とKPI

### 12.1 プロジェクト成功基準

| 基準 | 目標値 | 測定方法 |
|-----|-------|---------|
| **機能完成度** | Phase 3までの全機能実装 | 機能チェックリスト |
| **品質** | コードカバレッジ > 80% | Istanbul/nyc |
| **パフォーマンス** | 150ファイルのパース < 5秒 | ベンチマーク |
| **ユーザー満足度** | 平均評価 > 4.0/5.0 | Marketplace レビュー |
| **採用率** | 100ダウンロード（v1.0.0リリース後3ヶ月） | Marketplace統計 |

### 12.2 KPI（重要業績評価指標）

#### 開発KPI

| KPI | 目標 | 測定タイミング |
|-----|------|--------------|
| スプリントベロシティ | 安定化（±10%） | スプリント毎 |
| バグ解決率 | > 95%/週 | 週次 |
| コードレビュー時間 | < 24時間 | PR毎 |
| リリース頻度 | 月1回以上 | 月次 |

#### 品質KPI

| KPI | 目標 | 測定タイミング |
|-----|------|--------------|
| テストカバレッジ | > 80% | CI/CD実行毎 |
| クラッシュ率 | < 0.1% | 週次 |
| パフォーマンス劣化 | < 5% | リリース毎 |
| セキュリティ脆弱性 | ゼロ（Critical/High） | 週次（npm audit） |

#### ユーザーKPI

| KPI | 目標（v1.0.0時点） | 測定タイミング |
|-----|------------------|--------------|
| アクティブユーザー数 | 50+ | 月次 |
| ダウンロード数 | 100+ | 累計 |
| Marketplace評価 | > 4.0/5.0 | リアルタイム |
| GitHub Stars | 20+ | リアルタイム |
| GitHubコントリビューター | 3+ | 累計 |

### 12.3 成功の定義（Definition of Done）

#### フィーチャーレベル

- [ ] 要件を満たす実装が完了
- [ ] 単体テストがパス（カバレッジ > 80%）
- [ ] 統合テストがパス
- [ ] コードレビュー完了
- [ ] ドキュメント更新
- [ ] UIが期待通りに動作

#### スプリントレベル

- [ ] 全てのストーリーが完了
- [ ] 全てのテストがパス
- [ ] パフォーマンス基準を満たす
- [ ] ステークホルダーレビュー完了

#### リリースレベル

- [ ] 全機能が動作
- [ ] E2Eテストがパス
- [ ] パフォーマンステストがパス
- [ ] セキュリティ監査完了
- [ ] ドキュメント完備
- [ ] リリースノート作成
- [ ] ユーザー受け入れテスト完了

---

## 13. 前提条件と制約

### 13.1 前提条件

- VS Code Extension API 1.85.0以上が使用可能
- Node.js 18+環境が利用可能
- GitHubリポジトリが利用可能
- VS Code Marketplaceへの公開が可能
- FINOS CDMリポジトリへのアクセスが可能

### 13.2 技術的制約

- VS Code Extension APIの制限内で実装
- パーサーは正規表現ベース（Phase 1）
- メモリ使用量は最大300MB以下
- 起動時間は1秒以内（初回インデックス除く）

### 13.3 組織的制約

- 開発リソース: 2-3名
- 予算: オープンソースプロジェクト（最小限）
- リリースサイクル: 2週間スプリント

---

## 14. 付録

### 14.1 用語集

| 用語 | 説明 |
|-----|------|
| CDM | Common Domain Model - FINOS が策定する金融業界の共通ドメインモデル |
| Rosetta DSL | CDMを記述するためのドメイン固有言語 |
| TreeDataProvider | VS CodeのTreeView表示用インターフェース |
| Hover | マウスオーバー時の情報表示機能 |
| Go to Definition | 定義ジャンプ機能 |
| Find All References | 参照箇所検索機能 |

### 14.2 参考資料

- [FINOS CDM GitHub](https://github.com/finos/common-domain-model)
- [VS Code Extension API](https://code.visualstudio.com/api)
- [Rosetta DSL Documentation](https://docs.rosetta-technology.io/)
- [要件定義書](./要件定義書.md)
- [詳細設計書](./詳細設計書.md)

### 14.3 承認

| 役割 | 氏名 | 署名 | 日付 |
|-----|------|------|------|
| プロダクトオーナー | | | |
| テックリード | | | |
| プロジェクトマネージャー | | | |

---

## 改訂履歴

| バージョン | 日付 | 変更内容 | 作成者 |
|----------|------|---------|-------|
| 1.0 | 2026-01-15 | 初版作成 | Claude |

---

**次のステップ**:
1. プロダクトオーナーによる承認
2. Phase 1キックオフミーティング
3. 詳細タスクのチケット化（GitHub Issues）
4. スプリント1開始
